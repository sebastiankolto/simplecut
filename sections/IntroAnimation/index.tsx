'use client';
import React, { useEffect, useState } from 'react';
import { motion } from 'motion/react';
import { useResponsive } from '../../utils/useResponsive';

const IntroAnimation: React.FC = () => {
  const [hidden, setHidden] = useState(false);
  const { belowSm, aboveXl } = useResponsive();

  const [mounted, setMounted] = useState(false);
  useEffect(() => {
    setMounted(true);
  }, []);

  if (!mounted) {
    return <div className="fixed inset-0 bg-[#000E0F] z-[1000]" />;
  }

  if (!mounted || hidden) return null;

  const logoReveal = 1;
  const screenOpenDel = 1.5;
  const screenOpenDur = 1;
  const screenOpenOpDel = 2.5;
  const screenOpenOpDur = 0.5;

  const hidingLeftPosition = belowSm ? 20 : aboveXl ? 80 : 40;
  const imageWidth = belowSm ? 150 : 170;

  return (
    <div className="flex fixed top-0 left-0 flex-col w-full h-full max-w-full justify-between z-100">
      <motion.div
        initial={{ height: '50%', opacity: 1 }}
        animate={{ height: belowSm ? 54 : 100, opacity: 0 }}
        transition={{
          height: { duration: screenOpenDur, delay: screenOpenDel },
          opacity: { duration: screenOpenOpDur, delay: screenOpenOpDel },
        }}
        onAnimationComplete={() => setHidden(true)}
        style={{ boxShadow: '0px 10px 20px 0px rgba(0,0,0,0.1)' }}
        className="flex relative items-end justify-center w-full bg-[#000E0F] overflow-visible z-100"
      >
        <motion.div className="max-w-[1400px] w-full flex items-start px-5 sm:px-10 xl:px-20 absolute bottom-0 overflow-visible">
          <motion.div
            initial={{ width: 0 }}
            animate={{ width: imageWidth }}
            transition={{
              duration: logoReveal,
              ease: 'easeInOut',
            }}
            style={{ overflow: 'hidden' }}
          >
            <svg
              style={{ width: imageWidth, height: '100%' }}
              id="Layer_2"
              data-name="Layer 2"
              xmlns="http://www.w3.org/2000/svg"
              width="1952.03"
              height="401.05"
              viewBox="0 0 1952.03 401.05"
            >
              <g id="Layer_2-2" data-name="Layer 2" fill="white">
                <g>
                  <motion.g>
                    <motion.path
                      className="cls-1"
                      d="M0,218.07h5.43c7.24,22.56,14.48,39.13,21.72,49.71,7.24,10.59,15.1,18.52,23.6,23.81,8.49,5.29,18.86,7.94,31.12,7.94,6.96,0,12.95-1.88,17.96-5.64,5.01-3.76,7.52-8.98,7.52-15.67,0-8.63-1.95-15.04-5.85-19.22-3.9-4.18-10.03-8.7-18.38-13.58-8.35-4.87-18.04-10.3-29.03-16.29-11.01-5.99-20.2-11.83-27.57-17.55-7.38-5.71-13.09-12.18-17.13-19.43-4.04-7.24-6.06-15.59-6.06-25.07,0-20.61,7.79-36.55,23.39-47.83,15.59-11.28,34.67-16.92,57.23-16.92,10.58,0,20.61,1.95,30.08,5.85,9.19,4.74,18.52,9.33,27.99,13.79,3.9,0,7.24-2.36,10.03-7.1,2.78-4.73,4.18-10.3,4.18-16.71h5.85v83.97h-5.43c-2.23-6.68-5.01-14.06-8.35-22.14-3.34-8.07-8.15-16.22-14.41-24.44-6.27-8.21-12.89-14.55-19.84-19.01-6.96-4.45-15.87-6.68-26.74-6.68-7.8,0-14.14,1.88-19.01,5.64-4.88,3.76-7.31,8.43-7.31,13.99,0,6.41,1.74,11.42,5.22,15.04,3.48,3.62,8.56,7.45,15.25,11.49,6.68,4.04,15.8,9.19,27.36,15.46,11.55,6.27,21.93,12.47,31.12,18.59,9.19,6.13,16.85,13.72,22.98,22.77,6.12,9.05,9.19,19.43,9.19,31.12,0,21.45-8.15,37.6-24.44,48.46-16.29,10.86-36,16.29-59.11,16.29-11.98,0-23.68-2.51-35.09-7.52-11.14-5.57-22.14-11.28-33-17.13-3.62,0-6.83,2.92-9.61,8.77-2.79,5.85-4.46,12.12-5.01,18.8H0v-93.58Z"
                    />
                    <motion.path
                      className="cls-1"
                      d="M577.75,304.54h-125.99v-6.68c9.66,0,15.39-1.53,17.19-4.6,1.79-3.06,2.7-10.3,2.7-21.72l.41-19.22v-84.39l-.41-17.13c0-11.97-1.46-20.61-4.35-25.9-2.9-5.29-8.07-7.94-15.53-7.94-4.97,0-10.29,2.3-15.95,6.89s-9.45,13.58-11.38,26.95v101.51l.41,19.22c0,8.92.48,15.32,1.45,19.22.97,3.9,6.29,6.27,15.95,7.1v6.68h-118.73v-6.68c9.39,0,15.05-1.53,16.98-4.6,1.93-3.06,2.9-10.3,2.9-21.72l.41-19.22v-84.39l-.41-17.13c0-11.97-1.46-20.61-4.35-25.9-2.9-5.29-8.07-7.94-15.53-7.94-9.39,0-15.81,3.07-19.26,9.19-3.45,6.13-6.14,12.4-8.07,18.8v107.36l.41,19.22c0,8.92.48,15.32,1.45,19.22.97,3.9,6.29,6.27,15.95,7.1v6.68h-125.17v-6.68l9.19-.42c8.07-.84,12.95-2.78,14.62-5.85,1.67-3.06,2.51-9.75,2.51-20.05l.42-19.22v-99.84l-.42-17.13c-.56-6.68-1.4-11.7-2.51-15.04-1.12-3.34-6.13-5.43-15.04-6.27l-9.61-.84v-6.68h106.53v31.33c2.51-7.79,7.45-15.67,14.83-23.6,7.38-7.94,22.35-11.91,44.91-11.91,15.59,0,29.17,3.28,40.73,9.82,11.55,6.55,20.12,16.36,25.69,29.45,1.39-5.01,5.08-12.81,11.07-23.39,5.99-10.58,22.9-15.87,50.76-15.87,18.94,0,35.37,5.29,49.29,15.87,13.92,10.59,20.89,24.23,20.89,40.94v93.16l.42,19.22c0,10.59.76,17.27,2.3,20.05,1.53,2.79,6.48,4.74,14.83,5.85l7.52.42v6.68Z"
                    />
                    <motion.path
                      className="cls-1"
                      d="M289.83,54.76c0,20.53-16.65,37.17-37.18,37.17s-37.17-16.64-37.17-37.17,16.64-37.17,37.17-37.17,37.18,16.64,37.18,37.17Z"
                    />
                    <motion.path
                      className="cls-1"
                      d="M574.41,401.05v-6.68l14.62-.84c8.07-.83,13.22-2.58,15.46-5.22,2.23-2.65,3.34-8.01,3.34-16.08l.42-17.13v-202.61l-.42-17.13c0-7.79-1.19-13.09-3.55-15.88-2.37-2.78-7.59-4.6-15.67-5.43l-13.37-.84v-6.68h112.79v24.65c3.06-6.4,7.98-12.81,14.78-19.22,6.8-6.4,19.65-9.61,38.53-9.61,26.66,0,48.32,9.33,64.98,27.99,16.66,18.66,24.99,44.01,24.99,76.03s-8.35,55.71-25.07,74.36c-16.71,18.66-38.43,27.99-65.17,27.99-19.35,0-32.19-2.65-38.55-7.94-6.36-5.29-11.05-10.86-14.09-16.71l.41,24.65v39.69l.83,19.22c.82,9.46,2.69,15.8,5.59,19.01,2.9,3.2,8.62,5.36,17.17,6.48l19.86,1.25v6.68h-157.91ZM690.11,275.72c1.1,6.96,4.21,12.26,9.33,15.88,5.12,3.62,10.86,5.43,17.22,5.43,8.57,0,15-4.18,19.29-12.53,4.28-8.35,6.98-17.55,8.09-27.57,1.1-10.03,1.86-18.94,2.28-26.74.42-7.79.63-16.29.63-25.48v-27.15c-.84-8.07-1.73-16.5-2.7-25.27-.97-8.77-3.66-17.27-8.09-25.48-4.43-8.21-11.2-12.32-20.33-12.32-5.54,0-10.85,2.44-15.97,7.31-5.12,4.88-8.23,10.8-9.33,17.75-.56,6.68-.97,15.39-1.25,26.11-.27,10.72-.41,21.38-.41,31.96v45.95c0,12.81.41,23.54,1.25,32.17Z"
                    />
                    <motion.path
                      className="cls-1"
                      d="M976.7,304.54h-135.91v-6.68l10.08-.42c8.12-.84,13.02-2.78,14.7-5.85,1.68-3.06,2.52-9.75,2.52-20.05l.42-19.22V45.95l-.42-17.13c-.56-6.68-1.4-11.7-2.51-15.04-1.12-3.34-6.13-5.43-15.04-6.27l-14.2-.84V0h112.79v252.32l.42,19.22c0,10.03.84,16.64,2.51,19.84,1.67,3.21,6.54,5.22,14.62,6.06l10.03.42v6.68Z"
                    />
                    <motion.path
                      className="cls-1"
                      d="M1196.44,241.88c-7.82,20.89-20.38,37.25-37.68,49.09-17.3,11.84-37.67,17.75-61.11,17.75-32.93,0-60-9.12-81.21-27.36-21.21-18.24-31.81-43.51-31.81-75.82,0-30.08,10.95-54.79,32.86-74.15,21.91-19.35,48.21-29.03,78.9-29.03s56.65,9.05,73.67,27.15c17.02,18.11,25.54,40.25,25.54,66.42h-128.25c0,10.03.76,20.26,2.28,30.71,1.52,10.44,4.43,20.54,8.71,30.29,4.28,9.75,10.37,17.62,18.25,23.6,7.88,5.99,17.77,8.98,29.66,8.98,17.09,0,30.61-4.8,40.55-14.41,9.95-9.61,17.58-21.65,22.91-36.14l6.72,2.92ZM1122.49,187.57c-.28-3.06-.49-6.68-.63-10.86-.14-4.18-.2-9.46-.2-15.87,0-16.98-2.08-29.87-6.22-38.64-4.15-8.77-11.34-13.16-21.56-13.16-8.84,0-14.99,4.25-18.45,12.74-3.46,8.5-5.88,21.51-7.26,39.06l-.83,26.74h55.14Z"
                    />
                    <motion.path
                      className="cls-1"
                      d="M1317.71,206.68c0,20.53-16.65,37.17-37.18,37.17s-37.17-16.64-37.17-37.17,16.64-37.17,37.17-37.17,37.18,16.64,37.18,37.17Z"
                    />

                    <motion.path
                      className="cls-1"
                      d="M1519.73,108.86l1.71,63.75h-3.28c-1.05-2.76-1.85-4.85-2.42-6.28-3.33-9.13-6.04-15.92-8.13-20.4-3.71-7.99-9.08-15.31-16.12-21.96-5.33-5.04-10.84-8.7-16.54-10.98-5.71-2.28-12.12-3.42-19.25-3.42-10.75,0-20.06,2.33-27.96,6.99-6.94,4.09-13.41,9.96-19.4,17.61-5.99,7.66-10.89,16.38-14.69,26.17-5.42,13.79-8.13,29.48-8.13,47.07,0,14.93,1.85,28.38,5.56,40.36,3.71,11.98,9.13,22.01,16.26,30.09,13.12,15.02,30.52,22.53,52.2,22.53,10.84,0,20.58-1.88,29.24-5.63,8.65-3.75,15.35-9.06,20.11-15.9,5.51-7.89,9.51-18.54,11.98-31.95l3.28.57c-1.81,15.02-5.9,26.96-12.27,35.8-6.09,8.46-14.48,14.93-25.17,19.4-10.7,4.47-23.08,6.7-37.15,6.7-13.12,0-25.67-1.95-37.65-5.85-19.11-6.28-34.04-17.61-44.79-34.02-10.75-16.4-16.12-35.96-16.12-58.69,0-17.4,3.14-33.45,9.41-48.14,6.28-14.69,15.02-26.5,26.24-35.44,8.65-6.85,18.99-12.29,31.02-16.33,12.03-4.04,24.08-6.06,36.16-6.06s23.68,2.19,36.51,6.56l11.7,3.85c2.28.86,4.28,1.28,5.99,1.28,2.38,0,4.33-1,5.85-3,.66-.95,1.47-2.52,2.42-4.71h3.42Z"
                    />
                    <motion.path
                      className="cls-1"
                      d="M1628.98,109.86v3.28c-5.42.29-9.84,1.05-13.26,2.28-3.42,1.24-6.42,3.23-8.99,5.99-3.14,3.23-5.21,7.23-6.2,11.98-1,4.76-1.5,12.93-1.5,24.53v80.73c0,13.12.5,22.61,1.5,28.45,1,5.85,3.02,11.25,6.06,16.19,4.56,7.51,10.2,12.96,16.9,16.33,6.7,3.38,15.14,5.06,25.32,5.06s19.33-1.5,28.31-4.49c8.99-3,16.47-7.15,22.46-12.48,3.71-3.33,6.44-6.94,8.2-10.84,1.76-3.9,2.92-8.84,3.49-14.83.38-3.9.57-13.12.57-27.67v-79.73c0-9.79-.55-17.02-1.64-21.68-1.09-4.66-3.12-8.51-6.06-11.55-2.66-2.76-5.68-4.75-9.06-5.99-3.38-1.23-7.77-2-13.19-2.28v-3.28h65.75v3.28c-5.42.29-9.82,1.05-13.19,2.28-3.38,1.24-6.4,3.23-9.06,5.99-2.95,3.04-4.97,6.92-6.06,11.62-1.09,4.71-1.64,11.91-1.64,21.61v90c0,13.31-1.02,23.13-3.07,29.45-2.05,6.33-6.11,12.1-12.19,17.33-13.88,11.98-33.71,17.97-59.47,17.97s-46.73-5.66-59.48-16.97c-8.27-7.22-13.22-16.73-14.83-28.53-.57-4.18-.86-11.74-.86-22.68v-86.57c0-9.79-.52-17.02-1.57-21.68-1.05-4.66-3.09-8.51-6.13-11.55-2.57-2.76-5.54-4.75-8.91-5.99-3.38-1.23-7.82-2-13.34-2.28v-3.28h91.14Z"
                    />
                    <motion.path
                      className="cls-1"
                      d="M1836.79,114.28c-5.99,0-12.41.19-19.25.57-14.64.76-25.55,2.62-32.73,5.56-7.18,2.95-13.1,8.04-17.76,15.26-4.28,6.66-7.56,15.69-9.84,27.1l-3.28-.29,2.57-52.63h192.97l2.57,52.63-3.28.29c-2.57-13.22-6.58-23.22-12.05-30.02-5.47-6.8-13.43-11.67-23.89-14.62-8.84-2.57-23.82-3.85-44.93-3.85v145.48c0,9.7.55,16.9,1.64,21.61,1.09,4.71,3.11,8.58,6.06,11.62,2.66,2.76,5.68,4.76,9.06,5.99,3.37,1.24,7.77,2,13.19,2.28v3.28h-91.14v-3.28c5.51-.29,9.96-1.05,13.34-2.28,3.37-1.23,6.39-3.23,9.06-5.99,2.95-3.04,4.97-6.89,6.06-11.55,1.09-4.66,1.64-11.88,1.64-21.68V114.28Z"
                    />
                  </motion.g>
                </g>
              </g>
            </svg>
          </motion.div>
          {/*HIDING ELEMENT*/}
          <motion.span
            initial={{ width: 0, left: hidingLeftPosition }}
            animate={{
              width: [0, imageWidth, 0],
              left: [hidingLeftPosition, hidingLeftPosition, imageWidth + hidingLeftPosition],
            }}
            transition={{
              duration: logoReveal,
              ease: 'easeInOut',
            }}
            style={{
              height: belowSm ? 36 : 40,
              display: 'flex',
              justifyContent: 'flex-end',
              background: 'white',
              position: 'absolute',
              bottom: 0,
            }}
          />
        </motion.div>
      </motion.div>
      <motion.div
        initial={{ height: '50%' }}
        animate={{ height: '0%' }}
        transition={{ duration: screenOpenDur, delay: screenOpenDel }}
        className="w-full bg-[#000E0F] z-20"
      />
    </div>
  );
};

export default IntroAnimation;
